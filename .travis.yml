language: c

sudo: false

addons:
  apt:
    packages:
    - texlive
    - texlive-latex-extra
    - texlive-bibtex-extra
    - texlive-math-extra
    - texlive-science
    - texlive-luatex
    - texlive-generic-extra
    - biber
    - wget
    - curl
    - sed
    - grep
    - python

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  local_dir: deploy
  on:
    branch: master

script: make OTHERFLAGS="-interaction=nonstopmode" && make todo && make todo.svg

after_success:
  - mkdir -p deploy/nightly
  - cp -f jgross-thesis-proposal.pdf jgross-thesis.pdf todo.svg deploy/nightly/
